kind: AdaptiveDialog
beginDialog:
  kind: OnRecognizedIntent
  id: main
  intent:
    displayName: Informaci√≥n de Precios
    includeInOnSelectIntent: true
    triggerQueries:
      - cu√°nto cuesta
      - precio
      - consultar precio
      - valor
      - qu√© precio tiene
      - cotizaci√≥n
      - cotizar

  actions:
    - kind: Question
      id: question_product
      variable: Topic.ProductForPrice
      prompt: ¬øDe qu√© producto deseas conocer el precio?
      entity: StringPrebuiltEntity

    - kind: Question
      id: question_customer_name
      variable: Topic.CustomerName
      prompt: Para enviarte una cotizaci√≥n detallada, ¬øcu√°l es tu nombre?
      entity: StringPrebuiltEntity

    - kind: Question
      id: question_customer_email
      variable: Topic.CustomerEmail
      prompt: ¬øCu√°l es tu email?
      entity: StringPrebuiltEntity

    - kind: Question
      id: question_store_location
      variable: Topic.StoreLocation
      prompt: "¬øEn qu√© tienda prefieres recoger el producto? (Por ejemplo: Centro, Norte, Sur, Este, Oeste, Online)"
      entity: StringPrebuiltEntity

    - kind: SendActivity
      id: sendMessage_processing
      activity: Perfecto, estoy enviando tu solicitud al equipo de ventas...

    - kind: InvokeFlowAction
      id: invoke_email_flow
      input:
        binding:
          email: =Topic.CustomerEmail
          text: =Topic.ProductForPrice
          text_1: =Topic.CustomerName
          text_2: =Topic.StoreLocation

      output: Topic.FlowResponse
      flowId: add36a2b-9bbb-f011-bbd2-000d3a36e147

    - kind: SendActivity
      id: send_confirmation
      activity: |
        ‚úì {Topic.FlowResponse.ConfirmationMessage}

        üìß Recibir√°s la cotizaci√≥n en {Topic.CustomerEmail}
        üìù Tu n√∫mero de referencia es: {Topic.FlowResponse.ReferenceNumber}

        El equipo de ventas te contactar√° pronto con los mejores precios y promociones disponibles.

        ¬øHay algo m√°s en lo que pueda ayudarte?
